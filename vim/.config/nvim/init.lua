--                          ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢†‚†ä‚°Å‚††‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°ú‚¢†‚†Å‚†Ä‚¢´‚°ë‚¢Ñ‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£Ä‚°§‚†ê‚†ë‚†Ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°á‚¢∏‚†Ä‚¢∑‚†Ä‚†≥‚£Ñ‚†è‚†¢‚£Ä‚°Ä‚¢Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚†¥‚†Ç‚¢©‚†è‚¢Ä‚°î‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢á‚†à‚£á‚†º‚£á‚†Ä‚¢π‚†ü‚†Å‚†Å‚†à‚†â‚†ë‚†É‚†í‚£∑‚£Å‚°î‚†Å‚†Ä‚£º‚¢Å‚†Ä‚°å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£∏‚†Ä‚¢∏‚°Ñ‚¢ò‚°¶‚†ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†õ‚°è‚†Ä‚†Ä‚£∏‚†ª‚°º‚¢†‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚°è‚†Ä‚†Ä‚¢à‚†û‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†¢‚£¥‚¢Å‚†º‚†á‚¢Ä‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢ò‚†±‚†§‚¢≤‚†Ä‚†ë‚£Ñ‚£∞‚†ó‚†ä‚†â‚†â‚†±‚°Ä‚†Ä‚†Ä‚†Ä‚¢†‚†¥‚†î‚¢§‚£Ä‚†Ä‚†ô‚¢Ö‚†Ä‚†Ä‚£Ä‚†á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ç‚†î‚†Ä‚†Ä‚†Ä‚£Ω‚†É‚¢Ä‚£¥‚£∂‚£Ñ‚†Ä‚†á‚†Ä‚†Ä‚†Ä‚¢ß‚†Ä‚£Ä‚£Ñ‚†Ä‚†Å‚¢Ñ‚†à‚£¢‚†î‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£Ä‚°†‚†§‚†§‚£Ä‚°Ä‚†Ä‚†Ä‚†Ä‚£º‚†á‚†Ä‚°à‚£ø‚£ø‚£ø‚°§‚†ñ‚†í‚†¢‚¢Ñ‚£∏‚£ø‚£ª‚£ø‚¢∑‚†Ä‚†Ä‚¢Ç‚†±‚°á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚†Ä‚†Ä‚†Ä‚†Ä‚°†‚†ñ‚†â‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†â‚†ì‚¢Ñ‚†Ä‚¢ø‚†Ä‚†Ä‚£ø‚¢ø‚£ø‚†è‚†Ä‚£§‚£§‚°Ä‚†Ä‚†ô‚£ø‚£ø‚£ø‚°ø‚†Ä‚†Ä‚¢∏‚†Ä‚¢á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚†Ä‚†Ä‚°†‚†ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£â‚£©‚£ø‚°∫‚¢≥‚°Ä‚†ò‚†ø‚¢ø‚°Ñ‚†Ä‚£®‚£ç‚†Ä‚†Ä‚†Ä‚£ø‚£æ‚†ü‚†Å‚†Ä‚°†‚†ä‚¢Ä‚†û‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚†Ä‚°ú‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ã‚†Å‚†Ä‚£π‚†Ä‚†à‚¢ª‚£µ‚£¶‚£Ñ‚†â‚†≤‚£¨‚£•‚°§‚†Ä‚†ö‚†£‚†§‚†§‚¢í‚£ä‚£†‚†î‚¢õ‚†ñ‚†Ä‚†Ñ‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚†∞‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚†á‚†Ä‚¢Ä‚£º‚°ø‚†à‚†à‚†â‚†õ‚†õ‚†õ‚†õ‚†õ‚†í‚†í‚†õ‚†õ‚†õ‚†ª‚°ø‚†Ñ‚†à‚†¢‚†ë‚¢Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚°á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢†‚†ä‚†Ä‚†Ä‚¢∏‚°ü‚°Ö‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£∏‚°ü‚¢Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚°è‚†Ä‚†Ä‚†Ä‚¢∏‚£ø‚†á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢ò‚°ø‚¢∑‚†Ä‚†£‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚°Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†≥‚°Ä‚†Ä‚†Ä‚°∏‚†ó‚¢Ä‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£Ä‚£§‚†û‚†Å‚†∏‚°Ü‚†Ä‚†±‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚¢á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†í‚¢§‚£á‚†Ä‚†Ä‚†≥‚£î‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£¥‚†ü‚†Å‚†Ä‚†Ä‚†Ä‚£ø‚†Ä‚†Ä‚†õ‚¢Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
--                          ‚†ò‚£Ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚°Ä‚†Ä‚†Ä‚†Ä‚°†‚†É‚¢∏‚°Ü‚†Ä‚†Ä‚†à‚†∑‚£¶‚†Ä‚†Ä‚£Ä‚†∞‚†ü‚£°‚°§‚£§‚£Ñ‚°Ä‚¢†‚£á‚†Ä‚†Ä‚†Ä‚†Ä‚¢ª‚†ë‚††‚°Ä‚†Ä‚†Ä
--                          ‚†Ä‚†ô‚£ß‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°Æ‚†ü‚¢Ω‚¢õ‚†Å‚¢±‚†É‚£†‚°û‚£ø‚£Ñ‚£¥‚†ã‚†â‚¢ª‚°∑‚¢¥‚†É‚†Ä‚¢∏‚†Å‚†Ä‚†Ä‚†Ä‚†ô‚¢∂‚°â‚†ô‚†≤‚£Ñ‚†Ä‚†Ä‚¢É‚†Ä‚†à‚¢£‚†Ä
--                          ‚†Ä‚†Ä‚†Ä‚†¢‚£Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†∫‚°≠‚†è‚††‚£æ‚£¥‚£ø‚£∑‚£ø‚†ã‚†ã‚†Ä‚†Ä‚£ª‚°á‚¢∏‚†Ä‚†Ä‚†ò‚£ß‚†Ä‚†Ä‚†Ä‚¢∞‚°à‚£∑‚†Ä‚†Ä‚†à‚¢ø‚£Ñ‚¢∏‚†Ä‚†Ä‚¢∏‚°á
--                          ‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†≥‚¢Ä‚°Ä‚†Ä‚†Ä‚†¨‚¢ß‚°¶‚†Ä‚¢≥‚£æ‚¢Ø‚£Ω‚£ø‚†Ä‚†Ä‚†Ä‚£∞‚°ü‚†Ä‚£ø‚†Ä‚†Ä‚†Ä‚†∏‚£ß‚†Ä‚†Ä‚†à‚†ì‚†õ‚†Ä‚†Ä‚†Ä‚†∞‚£ø‚†è‚†Ä‚†Ä‚£æ‚†á
--                          ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£Ä‚£Ä‚£â‚£©‚£∑‚£ø‚£∑‚£¶‚£º‚£ø‚°ü‚¢â‚°á‚†Ä‚†Ä‚¢∞‚°ü‚†Å‚¢Ä‚°è‚†Ä‚†Ä‚†Ä‚¢†‚£ø‚£ß‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£Ä‚£º‚£ß‚£§‚°∂‚†æ‚†á‚†Ä
--                          ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†â‚†â‚†â‚†â‚†õ‚†õ‚†ì‚†ø‚†¶‚†∂‚†ø‚†∑‚†æ‚†ø‚†ø‚†∂‚†∂‚†∂‚†ø‚†ø‚†ø‚†∑‚†∂‚†∂‚†ø‚†ü‚†õ‚†â‚†â‚†â‚†â‚†Ä‚†Ä‚†Ä‚†Ä
--
--  ,ggggggggggg,                        ,ggggggggggg,
-- dP"""88""""""Y8,                   8IdP"""88""""""Y8,                            8I
-- Yb,  88      `8b                   8IYb,  88      `8b                            8I
--  `"  88      ,8P                   8I `"  88      ,8P                            8I
--      88aaaad8P"                    8I     88aaaad8P"                             8I
--      88""""Yb,     ,ggg,     ,gggg,8I     88""""",gggg,gg   ,ggg,,ggg,     ,gggg,8I    ,gggg,gg
--      88     "8b   i8" "8i   dP"  "Y8I     88    dP"  "Y8I  ,8" "8P" "8,   dP"  "Y8I   dP"  "Y8I
--      88      `8i  I8, ,8I  i8'    ,8I     88   i8'    ,8I  I8   8I   8I  i8'    ,8I  i8'    ,8I
--      88       Yb, `YbadP' ,d8,   ,d8b,    88  ,d8,   ,d8b,,dP   8I   Yb,,d8,   ,d8b,,d8,   ,d8b,
--      88        Y8888P"Y888P"Y8888P"`Y8    88  P"Y8888P"`Y88P'   8I   `Y8P"Y8888P"`Y8P"Y8888P"`Y8
--
--  , __                                      _
-- /|/  \          o                         | | o
--  | __/ __,   ,      __   __   __   _  _   | |     __,
--  |   \/  |  / \_|  /    /    /  \_/ |/ |  |/  |  /  |
--  |(__/\_/|_/ \/ |_/\___/\___/\__/   |  |_/|__/|_/\_/|/
--                                           |\       /|
--                                           |/       \|

vim.g.mapleader = ','
vim.g.maplocalleader = ','
vim.g.have_nerd_font = true

vim.o.number = true -- Line numbers
vim.o.mouse = '' -- Disable mouse mode
vim.o.showmode = false -- Don't show the mode, since it's already in the status line

vim.schedule(function()
  vim.o.clipboard = 'unnamedplus' -- Use system clipboard
end)

vim.o.breakindent = true
vim.o.undofile = true -- Save undo history
vim.o.ignorecase = true
vim.o.smartcase = true
vim.o.signcolumn = 'auto' -- Hide signcolumn when there are no signs
vim.o.updatetime = 250
vim.o.timeoutlen = 300
vim.o.splitright = true
vim.o.splitbelow = true

vim.o.list = true
vim.opt.listchars = { tab = '¬ª ', trail = '¬∑', nbsp = '‚ê£' }

vim.o.inccommand = 'nosplit' -- Preview substitutions live, as you type!
vim.o.cursorline = true -- Show which line your cursor is on

vim.o.scrolloff = 10 -- Minimal number of screen lines to keep above and below the cursor.
vim.o.confirm = false -- Error when save is required. Don't prompt

vim.o.foldmethod = 'indent'
vim.o.foldlevel = 20

--  ,               _
-- /|   /          | |  o             |  o
--  |__/   _       | |      _  _    __|      _  _    __,  ,
--  | \   |/  |   ||/ \_|  / |/ |  /  |  |  / |/ |  /  | / \_
--  |  \_/|__/ \_/|/\_/ |_/  |  |_/\_/|_/|_/  |  |_/\_/|/ \/
--               /|                                   /|
--               \|                                   \|

vim.keymap.set('n', '<leader>q', vim.diagnostic.setloclist, { desc = 'Open diagnostic [Q]uickfix list' })
vim.keymap.set('t', '<Esc><Esc>', '<C-\\><C-n>', { desc = 'Exit terminal mode' })
vim.keymap.set('n', '<space>', 'za', { desc = 'fold under cursor' })
vim.keymap.set('n', '<leader>e', vim.diagnostic.open_float, { desc = 'Open [e]rror in floating window' })

vim.keymap.set('v', 'J', ":m '>+1<CR>gv=gv")
vim.keymap.set('v', 'K', ":m '<-2<CR>gv=gv")

vim.keymap.set('n', 'J', 'mzJ`z')
vim.keymap.set('n', '<C-d>', '<C-d>zz')
vim.keymap.set('n', '<C-u>', '<C-u>zz')
vim.keymap.set('n', 'n', 'nzzzv')
vim.keymap.set('n', 'N', 'Nzzzv')
vim.keymap.set('n', '*', '*Nzz')

vim.keymap.set('x', '<leader>p', '"_dP')

vim.keymap.set('n', 'rr', ':!make run<CR>')

--   ___,
--  /   |                                                                  |
-- |    |        _|_  __   __   __   _  _  _    _  _  _    __,   _  _    __|   ,
-- |    |  |   |  |  /  \_/    /  \_/ |/ |/ |  / |/ |/ |  /  |  / |/ |  /  |  / \_
--  \__/\_/ \_/|_/|_/\__/ \___/\__/   |  |  |_/  |  |  |_/\_/|_/  |  |_/\_/|_/ \/
--
--
vim.api.nvim_create_autocmd('TextYankPost', { -- Highlight when yanking (copying) text
  desc = 'Highlight when yanking (copying) text',
  group = vim.api.nvim_create_augroup('kickstart-highlight-yank', { clear = true }),
  callback = function()
    vim.hl.on_yank()
  end,
})

--  , __  _                         ,__ __
-- /|/  \| |             o         /|  |  |
--  |___/| |         __,     _  _   |  |  |   __,   _  _    __,   __,  _   _  _  _    _   _  _  _|_
--  |    |/  |   |  /  | |  / |/ |  |  |  |  /  |  / |/ |  /  |  /  | |/  / |/ |/ |  |/  / |/ |  |
--  |    |__/ \_/|_/\_/|/|_/  |  |_/|  |  |_/\_/|_/  |  |_/\_/|_/\_/|/|__/  |  |  |_/|__/  |  |_/|_/
--                    /|                                           /|
--                    \|                                           \|
local lazypath = vim.fn.stdpath 'data' .. '/lazy/lazy.nvim'
if not (vim.uv or vim.loop).fs_stat(lazypath) then
  local lazyrepo = 'https://github.com/folke/lazy.nvim.git'
  local out = vim.fn.system { 'git', 'clone', '--filter=blob:none', '--branch=stable', lazyrepo, lazypath }
  if vim.v.shell_error ~= 0 then
    error('Error cloning lazy.nvim:\n' .. out)
  end
end

---@type vim.Option
local rtp = vim.opt.rtp
rtp:prepend(lazypath)

require('lazy').setup({
  -- Autoload plugins in `./lua/*/plugins/*.lua
  { import = 'kickstart.plugins' },
  { import = 'custom.plugins' },
}, {
  ui = {
    icons = vim.g.have_nerd_font and {} or {
      cmd = '‚åò',
      config = 'üõ†',
      event = 'üìÖ',
      ft = 'üìÇ',
      init = '‚öô',
      keys = 'üóù',
      plugin = 'üîå',
      runtime = 'üíª',
      require = 'üåô',
      source = 'üìÑ',
      start = 'üöÄ',
      task = 'üìå',
      lazy = 'üí§ ',
    },
  },
})
